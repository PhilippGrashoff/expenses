"use strict";(self.webpackChunkatk=self.webpackChunkatk||[]).push([[657],{6323:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});var s=n(44786),i=n.n(s),u=n(55996);const r={name:"AtkItemSearch",template:'\n        <div class="atk-item-search" :class="inputCss">\n            <input\n                class="ui"\n                v-model="query"\n                type="text"\n                name="atk-vue-search"\n                placeholder="Search..."\n                @keyup="onKeyup"\n                @keyup.esc="onEscape"\n            />\n            <i class="atk-search-icon link" :class="classIcon" @click="onClear" />\n        </div>',props:{context:String,url:String,q:String,reload:String,queryArg:String,options:Object},data:function(){return{query:this.q,temp:this.q,isActive:!1,extraQuery:null,inputCss:this.options.inputCss}},computed:{classIcon:function(){return{"search icon":null===this.query||""===this.query,"remove icon":null!==this.query}}},methods:{onKeyup:function(){this.onKeyup.debouncedFx||(this.onKeyup.debouncedFx=u.A.createDebouncedFx((e=>{this.onKeyup.debouncedFx=null,this.query!==this.temp&&(""===this.query&&(this.query=null),this.sendQuery(),this.temp=this.query)}),this.options.inputTimeOut)),this.onKeyup.debouncedFx.call(this)},onEscape:function(){null!==this.query&&(this.query=null,this.temp=null,this.sendQuery())},onEnter:function(){null!==this.query&&(this.query=null,this.temp=null,this.sendQuery())},onClear:function(){this.query&&(this.query=null,this.temp=null,this.sendQuery())},sendQuery:function(){const e=this,t=i().extend({},this.extraQuery,{__atk_reload:this.reload,[this.queryArg]:this.query}),n=i()("#"+this.reload);this.isActive=!0,n.api({on:"now",url:this.url,data:t,method:"GET",stateContext:i()(this.context??this.$el),onComplete:function(t,n){e.isActive=!1}})}}}}}]);
//# sourceMappingURL=atk-vue-item-search.min.js.map